{"version":3,"file":"static/js/716.88ee564e.chunk.js","mappings":"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","sources":["components/videos/VideoSearch.jsx","pages/Channel.jsx","utils/api.js"],"sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst VideoSearch = ({videos}) => {\n  return (\n    <>\n      {videos.map((video, index) => (\n        <div className='video' key={index}>\n          <div className='video__thumb play__icon'>\n            <Link \n              to={`/video/${video.id.videoId}`}\n              style={{backgroundImage: `url(${video.snippet.thumbnails.high.url})`}}\n            ></Link>\n          </div>\n          <div className='video__info'>\n            <div className='title'>\n              <Link to={`/video/${video.id.videoId}`}>\n                {video.snippet.title}\n              </Link>\n            </div>\n            <div className='info'>\n              <span className='author'>\n                <Link to={`/channel/${video.snippet.channelId}`}>\n                  {video.snippet.channelTitle}\n                </Link>\n              </span>\n            </div>\n          </div>\n        </div>\n      ))}\n    </>\n  )\n}\n\nexport default VideoSearch","import React, {useState, useEffect} from 'react'\nimport {useParams} from 'react-router-dom'\nimport { fetchFromAPI } from '../utils/api'\n\nimport Main from '../components/section/Main'\n\nimport { CiBadgeDollar } from 'react-icons/ci'\nimport { CiMedal } from 'react-icons/ci'\nimport { CiRead } from 'react-icons/ci'\n\n//검색창 임포트\nimport VideoSearch from '../components/videos/VideoSearch'\n\nconst Channel = () => {\n  const {channelId} = useParams();//파라미터로 전달된 채널아이디를 저장\n  // console.log(channelId)\n  const [channelDetail, setChannelDetail] = useState();\n  const [loading, setLoading] = useState(true);\n  //영상 데이터 상태\n  const [channelVideo, setChannelVideo] = useState([])\n  //다음 영상의 토큰을 저장\n  const [nextPageToken, setNextPageToken] = useState(null);\n\n  //channelId가 변경되면 채널아이디값에 해당하는 데이터를 불러오는 함수\n  useEffect(() => {\n    //함수 생성\n    const fetchResults = async () => {\n      try{//성공시 실행\n        const data = await fetchFromAPI(`channels?part=snippet&id=${channelId}`);\n        console.log(data)\n        setChannelDetail(data.items[0])\n        //영상을 최근 날짜순으로 요청\n        const videosData = await fetchFromAPI(`search?channelId=${channelId}&part=snippet%2Cid&order=date`)\n        //불러온 영상을 상태에 저장\n        setChannelVideo(videosData?.items)\n        //토큰을 상태에 저장\n        setNextPageToken(videosData?.nextPageToken)\n      } catch(error) { //실패시 실행\n        console.error(error)\n      } finally { //요청이 실패하던 성공하던 무조건 실행되는 구문\n        setLoading(false);//API 응답이 완료되면 loading을 false로 변경\n      }\n    }\n    fetchResults();//fetchResults함수 호출\n  }, [channelId])\n  //로딩이 완료되면 isLoaded가 변수에 할당됨\n  const channelPageClass = loading ? 'isLoading' : 'isLoaded';\n\n  //다음 영상을 불러오는 함수\n  const loadMoreVideos = async () => {\n    if(nextPageToken){\n      const videosData = await fetchFromAPI(`search?channelId=${channelId}&part=snippet%2Cid&order=date&pageToken=${nextPageToken}`)\n      //기존에 상태에 저장된 영상데이터를 그래도 구조분해할당으로 배열로 할당하고 새로 추가된 영상데이터를 구조분해할당으로 배열에 추가 줍니다.\n      setChannelVideo(prevVideos => [...prevVideos, ...videosData.items])\n      //다음 영상이 있으면 토큰을 또한번 상태에 할당\n      setNextPageToken(videosData?.nextPageToken)\n    }\n  }\n\n  return (\n    <Main\n      title=\"유튜브 채널\"\n      description=\"유튜브 채널페이지입니다.\">\n      <section id='channel' className={channelPageClass}>\n        {channelDetail && (\n          <div className='channel__inner'>\n            {/*채널의 배너 이미지 */}\n            <div className='channel__header' style={{\n              backgroundImage: `url(${channelDetail.brandingSettings.image.bannerExternalUrl})` }}>\n              <div className='circle'>\n                <img \n                  src={channelDetail.snippet.thumbnails.high.url} \n                  alt={channelDetail.snippet.title}  \n                />\n              </div>\n            </div>\n            <div className='channel__info'>\n              <h3 className='title'>{channelDetail.snippet.title}</h3>\n              <p className='desc'>{channelDetail.snippet.description}</p>\n              <div className='info'>\n                <span>\n                  <CiBadgeDollar />\n                  {channelDetail.statistics.subscriberCount}\n                </span>\n                <span>\n                  <CiMedal />\n                  {channelDetail.statistics.videoCount}\n                </span>\n                <span>\n                  <CiRead />\n                  {channelDetail.statistics.viewCount}\n                </span>\n              </div>\n            </div>\n            {/*VideoSerch컴포넌트로 영상 표시 */}\n            <div className='channel__video video__inner search'>\n              <VideoSearch videos={channelVideo}/>\n            </div>\n            {/*더보기 버튼 추가 */}\n            <div className='channel__more'>\n              {nextPageToken && (\n                <button onClick={loadMoreVideos}>더보기</button>\n              )}\n            </div>\n          </div>\n        )}\n      </section>\n    </Main>\n  )\n}\n\nexport default Channel","import axios from 'axios';\n\nexport const BASE_URL = 'https://youtube-v31.p.rapidapi.com'\n\nconst options = {\n  params: {\n    maxResults: '48'\n  },\n  headers: {\n    'x-rapidapi-key': process.env.REACT_APP_RAPID_API_KEY,\n    'x-rapidapi-host': 'youtube-v31.p.rapidapi.com'\n  }\n};\n\n//전달받은 인자(url)를 가지고 api키와 URL파라미터를 조립해서 함수를 호출한 곳으로 반환\nexport const fetchFromAPI = async (url) => {\n\tconst {data} = await axios.get(`${BASE_URL}/${url}`, options);\n\tconsole.log(data);\n  return data;\n}"],"names":["_ref","videos","_jsx","_Fragment","children","map","video","index","_jsxs","className","Link","to","id","videoId","style","backgroundImage","snippet","thumbnails","high","url","title","channelId","channelTitle","Channel","useParams","channelDetail","setChannelDetail","useState","loading","setLoading","channelVideo","setChannelVideo","nextPageToken","setNextPageToken","useEffect","async","data","fetchFromAPI","console","log","items","videosData","error","fetchResults","channelPageClass","Main","description","brandingSettings","image","bannerExternalUrl","src","alt","CiBadgeDollar","statistics","subscriberCount","CiMedal","videoCount","CiRead","viewCount","VideoSearch","onClick","prevVideos","options","params","maxResults","headers","process","REACT_APP_RAPID_API_KEY","axios","get"],"sourceRoot":""}